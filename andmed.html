<!DOCTYPE html>
<html lang="en">
    <head>
        <title>E-hääletus</title>
        <meta charset="utf-8">

        <link rel="stylesheet" href="styles.css">
    </head>

    <body>
        <script>
			function statusChangeCallback(response) {
                if (response.status === 'connected') {
                    testAPI();
                } else if (response.status === 'not_authorized') {
                    // The person is logged into Facebook, but not your app.
                    document.getElementById('status').innerHTML = 'Please log ' + 'into this app.';
                } else {
                    // The person is not logged into Facebook, so we're not sure if
                    // they are logged into this app or not.
                    document.getElementById('status').innerHTML = 'Please log ' + 'into Facebook.';
                }
            }

            // This function is called when someone finishes with the Login
            // Button.  See the onlogin handler attached to it in the sample
            // code below.
            function checkLoginState() {
                FB.getLoginStatus(function(response) {
                    statusChangeCallback(response);
                });
            }


            window.fbAsyncInit = function() {
                FB.init({
                    appId : '869773549753764',
                    cookie : true, // enable cookies to allow the server to access
                    // the session
                    xfbml : true, // parse social plugins on this page
                    version : 'v2.2' // use version 2.2
                });

                // Now that we've initialized the JavaScript SDK, we call
                // FB.getLoginStatus().  This function gets the state of the
                // person visiting this page and can return one of three states to
                // the callback you provide.  They can be:
                //
                // 1. Logged into your app ('connected')
                // 2. Logged into Facebook, but not your app ('not_authorized')
                // 3. Not logged into Facebook and can't tell if they are logged into
                //    your app or not.
                //
                // These three cases are handled in the callback function.

                FB.getLoginStatus(function(response) {
                    statusChangeCallback(response);
                });

            };

            // Load the SDK asynchronously
            ( function(d, s, id) {
                    var js, fjs = d.getElementsByTagName(s)[0];
                    if (d.getElementById(id))
                        return;
                    js = d.createElement(s);
                    js.id = id;
                    js.src = "//connect.facebook.net/en_US/sdk.js";
                    fjs.parentNode.insertBefore(js, fjs);
                }(document, 'script', 'facebook-jssdk'));

            // Here we run a very simple test of the Graph API after login is
            // successful.  See statusChangeCallback() for when this call is made.
            function testAPI() {
                FB.api('/me', function(response) {
                    document.getElementById('firstName').innerHTML = 'Eesnimi: ' + response.first_name;
                    document.getElementById('lastName').innerHTML = 'Perenimi: ' + response.last_name;
                    document.getElementById('email').innerHTML = 'Email: ' + response.email;
                });
            }
        </script>
        <header>
            <h1> E-Valimised</h1>
            <nav>
                <ul>
                    <li>
                        <a href="kandidaadid.php">Kandidaadid</a>
                    </li>
                    <li>
                        <a href="tulemused.html">Tulemused</a>
                    </li>
                    <li>
                        <a href="statistika.html">Statistika</a>
                    </li>
                    <li>
                        <a href="andmed.html">Minu andmed</a>
                    </li>
                    <li>
                        <a href="login.html">Logi sisse <span class="caret"></span></a>
                        <div>
                            <ul>
                                <li>
                                    <a href="login.html">Google+</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>

        </header>

        <section>
            
            <div id="status"></div>

            <div id="firstName"></div>
            <div id="lastName"></div>
            <div id="email"></div>

        </section>

        <footer>

        </footer>

    </body>
</html>